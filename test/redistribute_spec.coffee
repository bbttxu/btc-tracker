redistribute = require '../redistribute'
should = require 'should'
R = require 'ramda'

data = [{"id":"e4516d9b-c514-4391-aa4e-3659c4af8a66","price":"429.06000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T15:45:13.056872Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"c31188eb-47cd-4e37-bd01-cf105faa594a","price":"429.44000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T15:39:42.238889Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"2ab83224-0993-4b0e-9045-141615f45c4f","price":"428.47000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T15:34:11.775216Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"96c9de17-003d-4c92-a7f2-b48b57cd896f","price":"428.79000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T15:16:40.694971Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"a9be29ea-1870-45ba-acb6-d644b8738563","price":"429.07000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T15:16:27.037471Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"1a631602-d19d-4033-89b2-2b6a3eeedceb","price":"429.56000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T14:37:44.903594Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"37cb6df4-2b19-4d15-acf0-60a834dd9632","price":"429.60000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T13:13:32.079595Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"2a77d526-75b9-4dd4-8285-6a752733c3c4","price":"428.85000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T12:53:08.919007Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"36924275-4788-49c8-9536-c8a0f8ff8602","price":"430.07000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T12:53:00.202333Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"ffd2c0fa-4dea-4db9-b48f-c31f3e07ad39","price":"428.86000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T12:06:04.440254Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"0d421f31-dab7-4cb5-9d7a-11455ef9f6ee","price":"429.02000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T11:52:47.236348Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"7708f085-2f36-4426-8bb2-e08d43bfdaad","price":"429.32000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T11:52:03.415659Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"cef879ad-e7a3-4c4f-b6a0-7c9e534d6193","price":"429.33000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T11:52:03.346402Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"327814b8-a24c-4947-9664-1cd5b075c7be","price":"430.40000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T11:48:37.19683Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"70b5c501-70ab-4775-b520-6759ebd67897","price":"431.32000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T11:33:16.676566Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"ff5a7ad0-1a10-4b03-b851-7d5fcbab39a3","price":"430.79000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T11:20:27.693535Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"6c8b0024-9927-4198-9335-c44917729d42","price":"431.07000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T11:16:38.754621Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"703d005b-92e3-4e9a-817f-9d13923c99b8","price":"431.43000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T10:59:26.619531Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"a33419a0-868b-4892-96cf-cf079b13ba78","price":"447.32000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T10:43:31.360286Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"ffe1a777-e056-422d-836e-79ef90161936","price":"444.14000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T08:41:22.29227Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"d4f9137f-58d5-4225-b90f-1191bf8735c3","price":"444.93000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T06:44:34.389026Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"bc8d4ec1-bbd6-4cfc-84f0-b3b5a863aec4","price":"445.59000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T06:37:53.388369Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"41ee12af-b5e8-458a-84d6-687be6f2a41a","price":"445.97000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T06:22:31.295581Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"ebea9aca-946e-433a-925d-134bb876287c","price":"446.33000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T06:15:27.979221Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"65253b3e-2c4d-4e5a-b84d-846c153db531","price":"445.61000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T05:19:22.287787Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"0aab133b-10fc-436a-abb9-fa97d51d8f91","price":"446.06000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T05:19:08.8999Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"187b8a54-2b94-406f-bb60-9b9697d8187d","price":"446.49000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T05:19:02.625775Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"f94edcdb-9b6d-400b-a5da-c5ec786f04b1","price":"447.49000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T05:09:18.803825Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"a2dcf888-ee04-462d-8de9-a2055249313f","price":"448.74000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T05:07:49.288093Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"fd6dcd92-2ef9-4acc-9892-9d50c874156d","price":"447.61000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T04:15:28.970959Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"19641d04-d787-44ae-9288-64248a7c4fe7","price":"449.40000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T04:14:47.61848Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"3dea87d8-5984-43e5-ba69-07d5ff2dc691","price":"450.12000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T04:14:16.125093Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"223e1884-2b57-45e3-a3da-d9fe2da3b05f","price":"451.00000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T04:11:03.262942Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"9814a52b-6528-469d-b915-0e51622781c8","price":"450.80000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T03:49:44.671893Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"10eecb78-8b2d-4fe3-9a82-736352996a1d","price":"452.63000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T03:49:34.861151Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"2402248f-512e-4048-8335-e2458a6bb617","price":"454.63000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T03:49:10.764373Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"cf06240e-9356-4616-8868-89f113c346c7","price":"456.89000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T03:29:29.759857Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"32a6f7a8-d46b-4789-8a9b-29434472faad","price":"456.65000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T02:22:54.945437Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"3fe75dc1-4af1-4a6b-9aea-3483765392ca","price":"458.86000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T01:58:27.2003Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"567ef24c-4013-4990-a99d-0c6c4121844c","price":"459.67000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-26T01:20:11.255882Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"5e2e4294-57e5-4dcb-9ec1-2ebb1ab09942","price":"467.50000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-25T08:05:41.461766Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"748f095d-d39d-4fac-b7c2-d9af3442ce52","price":"458.98000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-25T08:03:35.102774Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"7c0a99de-b18f-46aa-80cc-dceb0889aa49","price":"460.26000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-25T08:02:55.614963Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"38d3776d-f215-4960-95a9-846717e09464","price":"460.26000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-25T06:46:53.927478Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"f6cbc59f-1683-4caf-a441-8cc3a8994801","price":"473.27000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-25T03:58:24.225707Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"32b55cee-2127-43b2-9f49-b472b484ec70","price":"459.29000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-24T17:46:25.066632Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"f9e750fd-7455-4089-82ba-429124a9ba74","price":"459.71000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-24T17:30:49.670222Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"01b4533e-4e63-406e-88e3-a0c9c6e1888a","price":"459.39000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-24T15:33:58.13338Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"c0b26e7a-a2f3-4d74-9062-685e22ffcf7a","price":"459.87000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-24T11:08:39.539635Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"8949514b-c315-460e-994c-57def4dfb92e","price":"460.09000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-24T11:08:06.317517Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"cdd67aac-ff64-4070-ae1f-971dccb58db2","price":"461.20000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-24T09:49:04.967895Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"4bf76aa7-ed09-4747-9024-7b88e0947432","price":"460.39000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-24T03:13:21.823504Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"81f42361-b947-4b66-bb5f-20a62478e4d6","price":"460.40000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-24T03:13:21.539509Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"924dbcb6-a81b-4cf8-9ce4-3670d1ab724f","price":"460.37000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-20T12:06:11.503072Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"e961db2b-aaa7-459d-98e6-d6332bc5a9b0","price":"461.13000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-20T04:42:26.184103Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"1e763e21-6180-48a3-8f78-7edae64a42fd","price":"460.14000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-20T02:31:20.447021Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"165918ee-6de5-4243-a449-579e3e44a345","price":"474.42000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-20T02:30:25.479031Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"2107e53d-9ea3-4888-a6ad-964f634ef345","price":"461.78000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-20T02:26:45.564084Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"709518cc-1e19-4dc6-b258-63d194f45b24","price":"463.05000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-20T01:32:02.892307Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"54845a3f-cfee-4db0-bce9-be5f7dfc2b97","price":"461.89000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T20:52:34.959197Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"6307d334-f926-46d3-9dc2-ad114d4f9240","price":"461.68000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T18:26:52.917774Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"2b8adb57-fc19-481b-a60c-ca5c914369e7","price":"462.52000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T18:19:44.754676Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"2360cf69-8bf9-4691-81b0-ea5fba149746","price":"463.01000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T16:15:27.703643Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"36884ad8-a2d4-4033-b4aa-afa9ec0e3a95","price":"464.15000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T16:03:57.069037Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"dfd47e51-da82-446e-9275-7adca0413a4f","price":"464.25000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T16:03:47.315612Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"a0dccf95-8d67-4a0a-bc65-713676ee3a40","price":"465.14000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T15:42:52.757702Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"836889ef-d129-4198-9e69-b2b91653e80f","price":"465.49000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T13:56:45.619833Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"8ca774db-c4ca-48c1-a2b0-1ce0feb846e6","price":"465.50000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T13:56:45.185342Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"8914f859-c667-4aa9-ba37-bd9b9f76483b","price":"466.26000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T13:45:14.960334Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"80a49ee6-7042-40a2-925b-6b514fe6de3b","price":"479.08000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T07:31:15.663634Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"646ac323-c3bf-4dce-aa27-007e8b533bd1","price":"466.42000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T07:23:16.252083Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"dc31a10a-bdeb-4b42-ac76-78c1213debde","price":"480.50000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T07:14:45.521463Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"6c2078f0-51f3-49fd-bf87-a945d9bfa7ed","price":"472.29000000","size":"0.46129719","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T02:22:35.537873Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"d150a6ed-90e5-4094-83e1-86a748f631c7","price":"471.28000000","size":"0.20000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T02:22:12.747038Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"c14c7c81-5a68-41d4-ade2-b7ac9085b07b","price":"470.27000000","size":"0.10000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T02:21:59.347384Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"2540d16d-4ab7-488b-8633-3ebd4c028bac","price":"469.26000000","size":"0.10000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T02:21:41.870627Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"5a786079-2064-4b0f-b0bc-08e386eec6f9","price":"468.25000000","size":"0.10000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T02:21:32.277273Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"f16b175e-abc7-45ef-bdf1-5c64d8d629ba","price":"467.24000000","size":"0.10000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T02:21:24.559831Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"86b79e73-6c4c-4975-95a1-5e4c6ea911da","price":"466.23000000","size":"0.10000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T02:21:06.638402Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"45f6e063-55be-451a-ae23-1739a1ef0024","price":"481.10000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T01:49:27.906674Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"df5a213a-6a00-4d71-866d-24d713081b6a","price":"467.11000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T01:25:27.888119Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"5e602ef5-68fd-4f03-a997-71ef8fb2e04f","price":"467.06000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T01:25:27.556861Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"446e651c-3b55-404c-826b-fd8e23c14aa0","price":"467.03000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T01:25:27.420582Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"2fcaf0b7-4d1a-4cfe-a93a-c1d45acb5e24","price":"480.86000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T01:24:57.443325Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"6a29d581-6028-4804-9e58-22fb2f5f6629","price":"466.93000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T01:24:57.264695Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"f14debbe-c8a0-4399-a56a-1d17e61d11ab","price":"466.89000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T01:24:57.145588Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"ef0ebfd6-94c2-4e2b-bdb2-c07c309af06a","price":"466.88000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T01:24:22.748818Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"cf9d4f25-c6b4-4b78-8346-24988e267834","price":"466.89000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T01:24:22.735036Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"c5caff15-3787-47ff-9c78-4e184624b863","price":"480.66000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T01:22:26.872946Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"0e70b1e1-4225-40d7-be5e-095eaf674d6b","price":"480.65000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T01:21:56.638963Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"998ac60b-ac1d-4080-a2af-aac5b4baf623","price":"480.60000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T01:21:26.956171Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"12cb3af8-2064-462e-a7b4-e9388ddfc0f8","price":"466.65000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T01:21:26.864893Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"0d606c09-9a91-4516-8f9c-28675e6c7114","price":"480.60000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T01:20:57.099002Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"7d64b7ba-5158-4d02-81e5-cac168689445","price":"480.60000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-19T01:19:56.8895Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"aa13861f-fab0-4df0-9f8a-8b447b218e9f","price":"472.29000000","size":"0.10000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-18T23:46:11.170158Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"e56b7e28-4a54-462e-a8b1-a35a7ad8e17a","price":"471.28000000","size":"0.10000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-18T23:45:58.331108Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"1e490488-c16c-4ca1-a443-db38341cc4e5","price":"470.27000000","size":"0.10000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-18T23:45:47.686969Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"fd652404-a6c1-49f7-b74d-ea4b5580128c","price":"469.26000000","size":"0.10000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-18T23:45:39.142171Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"ca4265f8-25ca-49d6-bba9-833cf1dee41c","price":"465.65000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-18T23:29:24.517783Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false},{"id":"4b47f5da-f5b3-40ff-af65-49d2902f65fb","price":"467.21000000","size":"0.01000000","product_id":"BTC-USD","side":"sell","stp":"dc","type":"limit","time_in_force":"GTC","post_only":false,"created_at":"2015-12-17T20:04:24.698399Z","fill_fees":"0.0000000000000000","filled_size":"0.00000000","status":"open","settled":false}]

describe "redistribute", ->
  it "finds usd total", ->
    result = redistribute.usd data
    (result).should.be.eql 1139.6784498651007

  it "finds btc total", ->
    result = redistribute.btc data
    (result).should.be.eql 2.45129719

  it "finds average of existing USD", ->
    result = redistribute.avgUSD data
    (result).should.be.eql 464.92871387214404

  it "finds average of existing BTC", ->
    result = redistribute.avgBTC data
    result.should.be.eql .0245129719

  it "equally distributes sells", ->
    result = redistribute.equal 423.75, 465.07, 245
    result.should.be.eql .0245129719
